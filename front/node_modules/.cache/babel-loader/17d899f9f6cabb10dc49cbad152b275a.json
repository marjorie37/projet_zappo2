{"ast":null,"code":"import _classCallCheck from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/findev/Documents/lyon-0218-js-zappo/front/src/components/Hoc/withUser.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport config from \"../../assets/lib/axiosConfig\"; // import PropTypes from \"prop-types\";\n\nvar withUser = function withUser(ComponentToWrap) {\n  var DataProvider =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(DataProvider, _Component);\n\n    function DataProvider(props) {\n      var _this;\n\n      _classCallCheck(this, DataProvider);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(DataProvider).call(this, props));\n      _this.state = {\n        user: null\n      };\n      _this.checkUserLogged = _this.checkUserLogged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n      return _this;\n    }\n\n    _createClass(DataProvider, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.checkUserLogged();\n      }\n    }, {\n      key: \"checkUserLogged\",\n      value: function checkUserLogged() {\n        var _this2 = this;\n\n        axios(config({}, \"/moncompte\", \"post\")).then(function (res) {\n          var user = res.data;\n          return user !== null && user.state ? _this2.setState({\n            user: user\n          }) : null;\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return React.createElement(ComponentToWrap, Object.assign({}, this.props, this.state, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }));\n      }\n    }]);\n\n    return DataProvider;\n  }(Component);\n\n  return DataProvider;\n};\n\nexport default withUser;","map":{"version":3,"sources":["/home/findev/Documents/lyon-0218-js-zappo/front/src/components/Hoc/withUser.js"],"names":["React","Component","axios","config","withUser","ComponentToWrap","DataProvider","props","state","user","checkUserLogged","bind","then","res","data","setState"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,8BAAnB,C,CAGA;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,eAAe,EAAI;AAAA,MAC5BC,YAD4B;AAAA;AAAA;AAAA;;AAEhC,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wFAAMA,KAAN;AACA,YAAKC,KAAL,GAAa;AACXC,QAAAA,IAAI,EAAE;AADK,OAAb;AAGA,YAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBC,IAArB,uDAAvB;AALiB;AAMlB;;AAR+B;AAAA;AAAA,0CAUZ;AAClB,aAAKD,eAAL;AACD;AAZ+B;AAAA;AAAA,wCAef;AAAA;;AACbR,QAAAA,KAAK,CACHC,MAAM,CACJ,EADI,EAEJ,YAFI,EAGJ,MAHI,CADH,CAAL,CAMES,IANF,CAMO,UAAAC,GAAG,EAAI;AACZ,cAAMJ,IAAI,GAAGI,GAAG,CAACC,IAAjB;AACA,iBAAOL,IAAI,KAAK,IAAT,IAAiBA,IAAI,CAACD,KAAtB,GAA8B,MAAI,CAACO,QAAL,CAAc;AAACN,YAAAA,IAAI,EAAJA;AAAD,WAAd,CAA9B,GAAsD,IAA7D;AACD,SATD;AAUH;AA1B+B;AAAA;AAAA,+BA4BxB;AACN,eAAO,oBAAC,eAAD,oBAAsB,KAAKF,KAA3B,EAAsC,KAAKC,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACD;AA9B+B;;AAAA;AAAA,IACPP,SADO;;AAiClC,SAAOK,YAAP;AACD,CAlCD;;AAoCA,eAAeF,QAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport config from \"../../assets/lib/axiosConfig\";\n\n\n// import PropTypes from \"prop-types\";\n\nconst withUser = ComponentToWrap => {\n  class DataProvider extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        user: null\n      };\n      this.checkUserLogged = this.checkUserLogged.bind(this);\n    }\n\n    componentDidMount() {\n      this.checkUserLogged();\n    }\n\n\n    checkUserLogged(){\n        axios(\n          config(\n            {},\n            \"/moncompte\",\n            \"post\"\n          )\n        ).then(res => {\n          const user = res.data;\n          return user !== null && user.state ? this.setState({user}) : null;\n        });\n    }\n\n    render(){\n      return <ComponentToWrap  {...this.props} {...this.state} />;\n    }\n  }\n\n  return DataProvider;\n};\n\nexport default withUser;\n"]},"metadata":{},"sourceType":"module"}