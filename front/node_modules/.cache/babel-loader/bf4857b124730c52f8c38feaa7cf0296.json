{"ast":null,"code":"import _classCallCheck from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/findev/Documents/lyon-0218-js-zappo/front/src/components/Hoc/withStaff.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport config from \"../../assets/lib/axiosStaff\";\nimport Loader from '../ZappoOrdersTablette/Loader'; // import PropTypes from \"prop-types\";\n\nvar withStaff = function withStaff(ComponentToWrap) {\n  var DataProvider =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(DataProvider, _Component);\n\n    function DataProvider(props) {\n      var _this;\n\n      _classCallCheck(this, DataProvider);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(DataProvider).call(this, props));\n      _this.state = {};\n      _this.checkUserLogged = _this.checkUserLogged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n      return _this;\n    }\n\n    _createClass(DataProvider, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.checkUserLogged();\n      }\n    }, {\n      key: \"checkUserLogged\",\n      value: function checkUserLogged() {\n        var _this2 = this;\n\n        axios(config({}, \"/moncompte\", \"post\")).then(function (res) {\n          var user = res.data;\n\n          _this2.setState({\n            user: user\n          });\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var user = this.state.user;\n        return user === undefined ? React.createElement(Loader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }) : React.createElement(ComponentToWrap, Object.assign({}, this.props, this.state, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }));\n      }\n    }]);\n\n    return DataProvider;\n  }(Component);\n\n  return DataProvider;\n};\n\nexport default withStaff;","map":{"version":3,"sources":["/home/findev/Documents/lyon-0218-js-zappo/front/src/components/Hoc/withStaff.js"],"names":["React","Component","axios","config","Loader","withStaff","ComponentToWrap","DataProvider","props","state","checkUserLogged","bind","then","res","user","data","setState","undefined"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,MAAP,MAAmB,+BAAnB,C,CAEA;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,eAAe,EAAI;AAAA,MAC3BC,YAD2B;AAAA;AAAA;AAAA;;AAE7B,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,wFAAMA,KAAN;AACA,YAAKC,KAAL,GAAa,EAAb;AAEA,YAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBC,IAArB,uDAAvB;AAJe;AAKlB;;AAP4B;AAAA;AAAA,0CAST;AAChB,aAAKD,eAAL;AACH;AAX4B;AAAA;AAAA,wCAcX;AAAA;;AACdR,QAAAA,KAAK,CACDC,MAAM,CACF,EADE,EAEF,YAFE,EAGF,MAHE,CADL,CAAL,CAMES,IANF,CAMO,UAAAC,GAAG,EAAI;AACV,cAAMC,IAAI,GAAGD,GAAG,CAACE,IAAjB;;AACA,UAAA,MAAI,CAACC,QAAL,CAAc;AAAEF,YAAAA,IAAI,EAAJA;AAAF,WAAd;AACH,SATD;AAUH;AAzB4B;AAAA;AAAA,+BA2BpB;AAAA,YACEA,IADF,GACU,KAAKL,KADf,CACEK,IADF;AAEL,eAAOA,IAAI,KAAKG,SAAT,GAAqB,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAArB,GAAiC,oBAAC,eAAD,oBAAsB,KAAKT,KAA3B,EAAsC,KAAKC,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAxC;AACH;AA9B4B;;AAAA;AAAA,IACNR,SADM;;AAiCjC,SAAOM,YAAP;AACH,CAlCD;;AAoCA,eAAeF,SAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport config from \"../../assets/lib/axiosStaff\";\nimport Loader from '../ZappoOrdersTablette/Loader';\n\n// import PropTypes from \"prop-types\";\n\nconst withStaff = ComponentToWrap => {\n    class DataProvider extends Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n            };\n            this.checkUserLogged = this.checkUserLogged.bind(this);\n        }\n\n        componentDidMount() {\n            this.checkUserLogged();\n        }\n\n\n        checkUserLogged() {\n            axios(\n                config(\n                    {},\n                    \"/moncompte\",\n                    \"post\"\n                )\n            ).then(res => {\n                const user = res.data;\n                this.setState({ user });\n            });\n        }\n\n        render() {\n            const {user} = this.state;\n            return user === undefined ? <Loader/> : <ComponentToWrap  {...this.props} {...this.state} />;\n        }\n    }\n\n    return DataProvider;\n};\n\nexport default withStaff;\n"]},"metadata":{},"sourceType":"module"}