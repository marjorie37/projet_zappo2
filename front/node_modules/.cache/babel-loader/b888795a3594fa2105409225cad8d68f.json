{"ast":null,"code":"import _defineProperty from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/findev/Documents/lyon-0218-js-zappo/front/src/components/UserComponents/UserPassRecover.js\";\nimport React, { Component } from \"react\"; //import PropTypes from \"prop-types\";\n// MATERIAL UI\n\nimport { Grid, withStyles, Input, InputLabel, FormControl, Typography, Button, Paper, Snackbar, Fade } from \"@material-ui/core\";\nimport validator from \"validator\";\nimport config from \"../../assets/lib/axiosConfig\";\nimport axios from \"axios\";\n\nvar styles = function styles(theme) {\n  return {\n    container: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    formControl: {\n      margin: theme.spacing.unit,\n      display: \"flex\"\n    }\n  };\n};\n\nvar UserPassRecover =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserPassRecover, _Component);\n\n  function UserPassRecover(props) {\n    var _this;\n\n    _classCallCheck(this, UserPassRecover);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserPassRecover).call(this, props));\n\n    _this.handleSubmit = function (event) {\n      var history = _this.props.history;\n      event.preventDefault();\n      axios(config(_this.state, \"/motdepasseperdu\", \"POST\")).then(function (res) {\n        var _res$data = res.data,\n            success = _res$data.success,\n            error = _res$data.error;\n\n        if (success) {\n          history.push(\"/identification/connexion\");\n        }\n\n        if (error) {\n          _this.setState({\n            message: error\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      email: \"\",\n      message: null\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UserPassRecover, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState(_defineProperty({}, e.target.id, e.target.value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      var error = \"\";\n      var valid = true;\n\n      if (this.state.email.length >= 1) {\n        error = validator.isEmail(this.state.email) ? \"\" : \"Votre email n'est pas valide\";\n        !error.length ? valid = false : valid = true;\n      }\n\n      return React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        style: {\n          padding: \"1.6rem 1rem 2rem 1rem\",\n          marginTop: \"10rem\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subheading\",\n        color: \"primary\",\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Entrez l'adresse\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), \"de votre compte Zappo\"), React.createElement(\"form\", {\n        onChange: this.handleChange,\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        style: {\n          marginBottom: \"2rem\"\n        },\n        className: classes.formControl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Email\"), React.createElement(Input, {\n        id: \"email\",\n        name: \"email\",\n        type: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), error !== \"\" ? React.createElement(\"div\", {\n        style: {\n          color: \" red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, error) : \"\"), React.createElement(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        fullWidth: true,\n        color: \"secondary\",\n        className: classes.button,\n        disabled: valid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Valider\"))))), React.createElement(Snackbar, {\n        open: this.state.message !== null ? true : false,\n        autoHideDuration: 3000,\n        onClose: function onClose() {\n          return _this2.setState({\n            message: null\n          });\n        },\n        TransitionComponent: Fade,\n        ContentProps: {\n          \"aria-describedby\": \"message-id\"\n        },\n        message: React.createElement(\"span\", {\n          id: \"message-id\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, this.state.message),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return UserPassRecover;\n}(Component); // UserPassRecover.propTypes = {\n//   classes: PropTypes.object.isRequired\n//};\n\n\nexport default withStyles(styles)(UserPassRecover);","map":{"version":3,"sources":["/home/findev/Documents/lyon-0218-js-zappo/front/src/components/UserComponents/UserPassRecover.js"],"names":["React","Component","Grid","withStyles","Input","InputLabel","FormControl","Typography","Button","Paper","Snackbar","Fade","validator","config","axios","styles","theme","container","display","flexWrap","formControl","margin","spacing","unit","UserPassRecover","props","handleSubmit","event","history","preventDefault","state","then","res","data","success","error","push","setState","message","email","bind","handleChange","e","target","id","value","classes","valid","length","isEmail","width","padding","marginTop","marginBottom","color","button"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n//import PropTypes from \"prop-types\";\n// MATERIAL UI\nimport {\n  Grid,\n  withStyles,\n  Input,\n  InputLabel,\n  FormControl,\n  Typography,\n  Button,\n  Paper,\n  Snackbar,\n  Fade\n} from \"@material-ui/core\";\nimport validator from \"validator\";\nimport config from \"../../assets/lib/axiosConfig\";\nimport axios from \"axios\";\n\nconst styles = theme => ({\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  formControl: {\n    margin: theme.spacing.unit,\n    display: \"flex\"\n  }\n});\n\nclass UserPassRecover extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      message: null\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleSubmit = event => {\n    const { history } = this.props;\n    event.preventDefault();\n    axios(config(this.state, \"/motdepasseperdu\", \"POST\")).then(res => {\n      const { success, error } = res.data;\n      if (success) {\n        history.push(\"/identification/connexion\");\n      }\n      if (error) {\n        this.setState({ message: error });\n      }\n    });\n  };\n\n  handleChange(e) {\n    this.setState({\n      [e.target.id]: e.target.value\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n    let error = \"\";\n    let valid = true;\n    if (this.state.email.length >= 1) {\n      error = validator.isEmail(this.state.email)\n        ? \"\"\n        : \"Votre email n'est pas valide\";\n      !error.length ? (valid = false) : (valid = true);\n    }\n    return (\n      <div style={{ width: \"100%\" }}>\n        <Grid container justify=\"center\">\n          <Grid item xs={10}>\n            <Paper\n              style={{\n                padding: \"1.6rem 1rem 2rem 1rem\",\n                marginTop: \"10rem\"\n              }}\n            >\n              <Typography variant=\"subheading\" color=\"primary\" align=\"center\">\n                Entrez l'adresse\n                <br />\n                de votre compte Zappo\n              </Typography>\n              <form onChange={this.handleChange} onSubmit={this.handleSubmit}>\n                <FormControl\n                  style={{ marginBottom: \"2rem\" }}\n                  className={classes.formControl}\n                >\n                  <InputLabel htmlFor=\"email\">Email</InputLabel>\n                  <Input id=\"email\" name=\"email\" type=\"email\" />\n                  {error !== \"\" ? (\n                    <div style={{ color: \" red\" }}>{error}</div>\n                  ) : (\n                    \"\"\n                  )}\n                </FormControl>\n                <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  fullWidth={true}\n                  color=\"secondary\"\n                  className={classes.button}\n                  disabled={valid}\n                >\n                  Valider\n                </Button>\n              </form>\n            </Paper>\n          </Grid>\n        </Grid>\n        <Snackbar\n          open={this.state.message !== null ? true : false}\n          autoHideDuration={3000}\n          onClose={() => this.setState({ message: null })}\n          TransitionComponent={Fade}\n          ContentProps={{\n            \"aria-describedby\": \"message-id\"\n          }}\n          message={<span id=\"message-id\">{this.state.message}</span>}\n        />\n      </div>\n    );\n  }\n}\n\n// UserPassRecover.propTypes = {\n//   classes: PropTypes.object.isRequired\n//};\n\nexport default withStyles(styles)(UserPassRecover);\n"]},"metadata":{},"sourceType":"module"}