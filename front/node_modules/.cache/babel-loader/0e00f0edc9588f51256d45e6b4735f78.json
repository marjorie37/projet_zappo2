{"ast":null,"code":"import _defineProperty from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/findev/Documents/lyon-0218-js-zappo/front/src/components/HomePageComponents/HomePageMainNavigation.js\";\nimport React, { Component } from \"react\"; //import PropTypes from \"prop-types\";\n\nimport photoRestau from \"../../assets/img/zappo_lyon.jpg\";\nimport { Toolbar, Typography, IconButton, SwipeableDrawer, List, ListItem, ListItemIcon, ListItemText, Divider, Card, CardMedia, CardContent } from \"@material-ui/core\";\nimport { Menu, ShoppingBasket, Input, AccountCircle, Place, Assignment, PowerSettingsNew } from \"@material-ui/icons\";\nimport { BrandZappoSpan, StyledHeader, StyledBrandZappoMenu } from \"../../styled/Index\";\nimport Linked from \"../../styled/StyledLink\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Emitter from \"../../emitter\";\nimport { withRouter } from \"react-router-dom\";\nimport { StyledShakedBadge } from \"../../styled/StyledAnimations\";\n\nvar styles = function styles(theme) {\n  return {\n    flex: {\n      flex: 1\n    },\n    card: {\n      maxWidth: 260\n    },\n    list: {\n      width: 250\n    },\n    media: {\n      height: 0,\n      paddingTop: \"56.25%\" // 16:9\n\n    },\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20\n    }\n  };\n};\n\nvar HomePageMainNavigation =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePageMainNavigation, _Component);\n\n  function HomePageMainNavigation(props) {\n    var _this;\n\n    _classCallCheck(this, HomePageMainNavigation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePageMainNavigation).call(this, props));\n\n    _this.toggleDrawer = function (side, open) {\n      return function () {\n        _this.setState(_defineProperty({}, side, open));\n      };\n    };\n\n    _this.state = {\n      left: false,\n      productsNb: 0,\n      open: false,\n      animatedBadge: false\n    };\n    _this.handleOpenMenu = _this.handleOpenMenu.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.restoreCart = _this.restoreCart.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.emitter = Emitter;\n\n    _this.emitter.addListener(\"refreshCart\", _this.restoreCart);\n\n    _this.handleClickOutside = _this.handleClickOutside.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(HomePageMainNavigation, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.restoreCart();\n      document.addEventListener(\"mousedown\", this.handleClickOutside);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"mousedown\", this.handleClickOutside);\n    }\n  }, {\n    key: \"restoreCart\",\n    value: function restoreCart() {\n      var _this2 = this;\n\n      var tab = JSON.parse(localStorage.getItem(\"cart\"));\n\n      if (tab) {\n        var nb = tab.reduce(function (acc, current) {\n          return acc + current.quantity;\n        }, 0);\n        this.setState({\n          productsNb: nb,\n          animatedBadge: true\n        });\n        setTimeout(function () {\n          return _this2.setState({\n            animatedBadge: false\n          });\n        }, 1000);\n      }\n    }\n  }, {\n    key: \"handleOpenMenu\",\n    value: function handleOpenMenu(e) {\n      this.setState({\n        open: !this.state.open\n      });\n    }\n  }, {\n    key: \"handleClickOutside\",\n    value: function handleClickOutside(event) {\n      if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n        this.setState({\n          open: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          user = _this$props.user,\n          history = _this$props.history;\n      return React.createElement(\"div\", {\n        ref: function ref(elt) {\n          return _this3.wrapperRef = elt;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(SwipeableDrawer, {\n        open: this.state.left,\n        onClose: this.toggleDrawer(\"left\", false),\n        onOpen: this.toggleDrawer(\"left\", true),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        tabIndex: 0,\n        role: \"button\",\n        onClick: this.toggleDrawer(\"left\", false),\n        onKeyDown: this.toggleDrawer(\"left\", false),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: classes.card,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(CardMedia, {\n        className: classes.media,\n        image: photoRestau,\n        title: \"Zappo \\xE0 Lyon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        gutterBottom: true,\n        variant: \"headline\",\n        component: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(StyledBrandZappoMenu, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Zappo\")), React.createElement(Typography, {\n        component: \"p\",\n        style: {\n          fontSize: \"0.8rem\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Bistrot Italien, Pizzeria. Produits frais et de qualit\\xE9s, import\\xE9s directement d'Italie. Sur place et \\xE0 emporter 7j/7.\"))), React.createElement(\"div\", {\n        className: classes.list,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(List, {\n        component: \"nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, user && React.createElement(Linked, {\n        to: \"/compte\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        button: true,\n        component: \"div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(AccountCircle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: \"Mon Compte\",\n        secondary: \"Infos et commandes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }))), user && React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(Linked, {\n        to: \"/nous-trouver\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        button: true,\n        component: \"div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(Place, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: \"Nous trouver\",\n        secondary: \"Infos pratiques\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      })), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      })), React.createElement(Linked, {\n        to: \"/mentions-legales\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        button: true,\n        component: \"div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Assignment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: \"Mentions L\\xE9gales\",\n        secondary: \"Cr\\xE9dits et CGU\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }))))))), React.createElement(StyledHeader, {\n        position: \"fixed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        className: classes.menuButton,\n        color: \"inherit\",\n        \"aria-label\": \"Menu\",\n        onClick: this.toggleDrawer(\"left\", true),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(Menu, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"title\",\n        color: \"inherit\",\n        className: classes.flex,\n        align: \"center\",\n        onClick: this.backHome,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(BrandZappoSpan, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Zappo\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, user !== null && React.createElement(IconButton, {\n        className: classes.menuButton,\n        color: \"inherit\",\n        onClick: function onClick() {\n          localStorage.clear();\n          history.push(\"/\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(PowerSettingsNew, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, user === null && React.createElement(Linked, {\n        to: \"/identification/connexion\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }))), React.createElement(Linked, {\n        to: \"/mon-panier\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(StyledShakedBadge, {\n        className: classes.margin,\n        badgeContent: this.state.productsNb,\n        color: \"secondary\",\n        animated: this.state.animatedBadge,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(ShoppingBasket, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }))))))));\n    }\n  }]);\n\n  return HomePageMainNavigation;\n}(Component); // HomePageMainNavigation.propTypes = {\n//   classes: PropTypes.object.isRequired\n// };\n\n\nexport default withRouter(withStyles(styles)(HomePageMainNavigation));","map":{"version":3,"sources":["/home/findev/Documents/lyon-0218-js-zappo/front/src/components/HomePageComponents/HomePageMainNavigation.js"],"names":["React","Component","photoRestau","Toolbar","Typography","IconButton","SwipeableDrawer","List","ListItem","ListItemIcon","ListItemText","Divider","Card","CardMedia","CardContent","Menu","ShoppingBasket","Input","AccountCircle","Place","Assignment","PowerSettingsNew","BrandZappoSpan","StyledHeader","StyledBrandZappoMenu","Linked","withStyles","Emitter","withRouter","StyledShakedBadge","styles","theme","flex","card","maxWidth","list","width","media","height","paddingTop","menuButton","marginLeft","marginRight","HomePageMainNavigation","props","toggleDrawer","side","open","setState","state","left","productsNb","animatedBadge","handleOpenMenu","bind","restoreCart","emitter","addListener","handleClickOutside","document","addEventListener","removeEventListener","tab","JSON","parse","localStorage","getItem","nb","reduce","acc","current","quantity","setTimeout","e","event","wrapperRef","contains","target","classes","user","history","elt","fontSize","backHome","clear","push","margin"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n//import PropTypes from \"prop-types\";\nimport photoRestau from \"../../assets/img/zappo_lyon.jpg\";\nimport {\n  Toolbar,\n  Typography,\n  IconButton,\n  SwipeableDrawer,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Divider,\n  Card,\n  CardMedia,\n  CardContent\n} from \"@material-ui/core\";\nimport {\n  Menu,\n  ShoppingBasket,\n  Input,\n  AccountCircle,\n  Place,\n  Assignment,\n  PowerSettingsNew\n} from \"@material-ui/icons\";\nimport {\n  BrandZappoSpan,\n  StyledHeader,\n  StyledBrandZappoMenu\n} from \"../../styled/Index\";\nimport Linked from \"../../styled/StyledLink\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Emitter from \"../../emitter\";\nimport { withRouter } from \"react-router-dom\";\nimport { StyledShakedBadge } from \"../../styled/StyledAnimations\";\n\nconst styles = theme => ({\n  flex: {\n    flex: 1\n  },\n  card: {\n    maxWidth: 260\n  },\n  list: {\n    width: 250\n  },\n  media: {\n    height: 0,\n    paddingTop: \"56.25%\" // 16:9\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20\n  }\n});\n\nclass HomePageMainNavigation extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      left: false,\n      productsNb: 0,\n      open: false,\n      animatedBadge: false\n    };\n    this.handleOpenMenu = this.handleOpenMenu.bind(this);\n    this.restoreCart = this.restoreCart.bind(this);\n    this.emitter = Emitter;\n    this.emitter.addListener(\"refreshCart\", this.restoreCart);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    this.restoreCart();\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  restoreCart() {\n    const tab = JSON.parse(localStorage.getItem(\"cart\"));\n    if (tab) {\n      const nb = tab.reduce((acc, current) => acc + current.quantity, 0);\n      this.setState({\n        productsNb: nb,\n        animatedBadge: true\n      });\n      setTimeout(() => this.setState({ animatedBadge: false }), 1000);\n    }\n  }\n\n  handleOpenMenu(e) {\n    this.setState({ open: !this.state.open });\n  }\n\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({ open: false });\n    }\n  }\n\n  toggleDrawer = (side, open) => () => {\n    this.setState({\n      [side]: open\n    });\n  };\n\n  render() {\n    const { classes, user, history } = this.props;\n\n    return (\n      <div ref={elt => (this.wrapperRef = elt)}>\n        <SwipeableDrawer\n          open={this.state.left}\n          onClose={this.toggleDrawer(\"left\", false)}\n          onOpen={this.toggleDrawer(\"left\", true)}\n        >\n          <div\n            tabIndex={0}\n            role=\"button\"\n            onClick={this.toggleDrawer(\"left\", false)}\n            onKeyDown={this.toggleDrawer(\"left\", false)}\n          >\n            <Card className={classes.card}>\n              <CardMedia\n                className={classes.media}\n                image={photoRestau}\n                title=\"Zappo à Lyon\"\n              />\n              <CardContent>\n                <Typography gutterBottom variant=\"headline\" component=\"h2\">\n                  <StyledBrandZappoMenu>Zappo</StyledBrandZappoMenu>\n                </Typography>\n                <Typography component=\"p\" style={{ fontSize: \"0.8rem\" }}>\n                  Bistrot Italien, Pizzeria. Produits frais et de qualités,\n                  importés directement d'Italie. Sur place et à emporter 7j/7.\n                </Typography>\n              </CardContent>\n            </Card>\n            <div className={classes.list}>\n              <List component=\"nav\">\n                {user && (\n                  <Linked to=\"/compte\">\n                    <ListItem button component=\"div\">\n                      <ListItemIcon>\n                        <AccountCircle />\n                      </ListItemIcon>\n                      <ListItemText\n                        primary=\"Mon Compte\"\n                        secondary=\"Infos et commandes\"\n                      />\n                    </ListItem>\n                  </Linked>\n                )}\n                {user && <Divider />}\n                <Linked to=\"/nous-trouver\">\n                  <ListItem button component=\"div\">\n                    <ListItemIcon>\n                      <Place />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary=\"Nous trouver\"\n                      secondary=\"Infos pratiques\"\n                    />\n                  </ListItem>\n                  <Divider />\n                </Linked>\n                <Linked to=\"/mentions-legales\">\n                  <ListItem button component=\"div\">\n                    <ListItemIcon>\n                      <Assignment />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary=\"Mentions Légales\"\n                      secondary=\"Crédits et CGU\"\n                    />\n                  </ListItem>\n                </Linked>\n              </List>\n            </div>\n          </div>\n        </SwipeableDrawer>\n        <StyledHeader position=\"fixed\">\n          <Toolbar>\n            <IconButton\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"Menu\"\n              onClick={this.toggleDrawer(\"left\", true)}\n            >\n              <Menu />\n            </IconButton>\n            <Typography\n              variant=\"title\"\n              color=\"inherit\"\n              className={classes.flex}\n              align=\"center\"\n              onClick={this.backHome}\n            >\n              <BrandZappoSpan>Zappo</BrandZappoSpan>\n            </Typography>\n            <div>\n              {user !== null && (\n                <IconButton\n                  className={classes.menuButton}\n                  color=\"inherit\"\n                  onClick={() => {\n                    localStorage.clear();\n                    history.push(\"/\");\n                  }}\n                >\n                  <PowerSettingsNew />\n                </IconButton>\n              )}\n            </div>\n            <div>\n              {user === null && (\n                <Linked to=\"/identification/connexion\">\n                  <IconButton color=\"inherit\">\n                    <Input />\n                  </IconButton>\n                </Linked>\n              )}\n              <Linked to=\"/mon-panier\">\n                <IconButton color=\"inherit\">\n                  <StyledShakedBadge\n                    className={classes.margin}\n                    badgeContent={this.state.productsNb}\n                    color=\"secondary\"\n                    animated={this.state.animatedBadge}\n                  >\n                    <ShoppingBasket />\n                  </StyledShakedBadge>\n                </IconButton>\n              </Linked>\n            </div>\n          </Toolbar>\n        </StyledHeader>\n      </div>\n    );\n  }\n}\n\n// HomePageMainNavigation.propTypes = {\n//   classes: PropTypes.object.isRequired\n// };\n\nexport default withRouter(withStyles(styles)(HomePageMainNavigation));\n"]},"metadata":{},"sourceType":"module"}