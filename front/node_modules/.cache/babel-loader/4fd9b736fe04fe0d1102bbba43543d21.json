{"ast":null,"code":"import _classCallCheck from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/findev/Documents/lyon-0218-js-zappo/front/src/components/UserComponents/UserOrders.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport moment from \"moment\"; // MATERIAL UI\n\nimport { Grid, Paper, List, ListItem, ListItemText, ListItemSecondaryAction, IconButton } from \"@material-ui/core\";\nimport { NavigateNext } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport config from \"../../assets/lib/axiosConfig\";\nimport imageTable from \"../../assets/img/emptyPicture.jpg\";\nimport EmptyCard from \"../EmptyCard\";\n\nvar UserOrders =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserOrders, _Component);\n\n  function UserOrders(props) {\n    var _this;\n\n    _classCallCheck(this, UserOrders);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserOrders).call(this, props));\n    _this.state = {\n      commandes: []\n    };\n    _this.goOrder = _this.goOrder.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UserOrders, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios(config({}, \"/customers/orders/\".concat(this.props.user.id), \"get\")).then(function (res) {\n        _this2.setState({\n          commandes: res.data\n        });\n      });\n    }\n  }, {\n    key: \"goOrder\",\n    value: function goOrder(id) {\n      this.props.history.push(\"/commande/\".concat(id));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var commandes = this.state.commandes;\n      var dense = commandes.length > 5 ? true : false;\n      var orderList = commandes.map(function (element, i) {\n        var divider = element === commandes[commandes.length - 1] ? false : true;\n        return React.createElement(ListItem, {\n          component: \"a\",\n          key: element.id,\n          dense: dense,\n          button: true,\n          onClick: function onClick() {\n            return _this3.goOrder(element.id);\n          },\n          divider: divider,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, element.state == 1 ? React.createElement(ListItemText, {\n          primary: \"Commande n\\xB0\".concat(element.uid),\n          secondary: \"Commande en cours\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }) : React.createElement(ListItemText, {\n          primary: \"Commande n\\xB0\".concat(element.uid),\n          secondary: moment(element.pending_time).format(\"dddd DD MMMM à LT\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }), React.createElement(ListItemSecondaryAction, {\n          onClick: function onClick() {\n            return _this3.goOrder(element.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(IconButton, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(NavigateNext, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }))));\n      });\n      return React.createElement(Grid, {\n        container: true,\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, orderList.length >= 1 ? React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, orderList) : React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(EmptyCard, {\n        title: \"Pas encore de commandes\",\n        image: imageTable,\n        comment: \"Vous n'avez pas encore command\\xE9 chez Zappo, que diriez vous de jeter un oeil aux suggestions du chef ?\",\n        link: \"/\",\n        buttonText: \"Voir les suggestions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return UserOrders;\n}(Component);\n\nexport default withRouter(UserOrders);","map":{"version":3,"sources":["/home/findev/Documents/lyon-0218-js-zappo/front/src/components/UserComponents/UserOrders.js"],"names":["React","Component","withRouter","moment","Grid","Paper","List","ListItem","ListItemText","ListItemSecondaryAction","IconButton","NavigateNext","axios","config","imageTable","EmptyCard","UserOrders","props","state","commandes","goOrder","bind","user","id","then","res","setState","data","history","push","dense","length","orderList","map","element","i","divider","uid","pending_time","format"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport moment from \"moment\";\n\n// MATERIAL UI\nimport {\n  Grid,\n  Paper,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n  IconButton\n} from \"@material-ui/core\";\nimport { NavigateNext } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport config from \"../../assets/lib/axiosConfig\";\nimport imageTable from \"../../assets/img/emptyPicture.jpg\";\nimport EmptyCard from \"../EmptyCard\";\n\nclass UserOrders extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      commandes: []\n    };\n    this.goOrder = this.goOrder.bind(this);\n  }\n\n  componentDidMount() {\n    axios(config({}, `/customers/orders/${this.props.user.id}`, \"get\")).then(\n      res => {\n        this.setState({\n          commandes: res.data\n        });\n      }\n    );\n  }\n\n  goOrder(id) {\n    this.props.history.push(`/commande/${id}`);\n  }\n\n  render() {\n    const { commandes } = this.state;\n    const dense = commandes.length > 5 ? true : false;\n    let orderList = commandes.map((element, i) => {\n      const divider =\n        element === commandes[commandes.length - 1] ? false : true;\n\n      return (\n        <ListItem\n          component=\"a\"\n          key={element.id}\n          dense={dense}\n          button\n          onClick={() => this.goOrder(element.id)}\n          divider={divider}\n        >\n          {element.state == 1 ? (\n            <ListItemText\n              primary={`Commande n°${element.uid}`}\n              secondary=\"Commande en cours\"\n            />\n          ) : (\n            <ListItemText\n              primary={`Commande n°${element.uid}`}\n              secondary={moment(element.pending_time).format(\n                \"dddd DD MMMM à LT\"\n              )}\n            />\n          )}\n\n          <ListItemSecondaryAction onClick={() => this.goOrder(element.id)}>\n            <IconButton>\n              <NavigateNext />\n            </IconButton>\n          </ListItemSecondaryAction>\n        </ListItem>\n      );\n    });\n\n    return (\n      <Grid container justify=\"center\">\n        <Grid item xs={12}>\n          <Paper>\n            {orderList.length >= 1 ? (\n              <List>{orderList}</List>\n            ) : (\n              <Grid>\n                <EmptyCard\n                  title=\"Pas encore de commandes\"\n                  image={imageTable}\n                  comment=\"Vous n'avez pas encore commandé chez Zappo, que diriez vous de jeter un oeil aux suggestions du chef ?\"\n                  link=\"/\"\n                  buttonText=\"Voir les suggestions\"\n                />\n              </Grid>\n            )}\n          </Paper>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withRouter(UserOrders);\n"]},"metadata":{},"sourceType":"module"}