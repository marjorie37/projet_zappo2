{"ast":null,"code":"import _classCallCheck from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/findev/Documents/lyon-0218-js-zappo/front/src/components/UserComponents/UserInfos.js\";\nimport React, { Component } from \"react\"; // COMPOSANTS ZAPPO\n\nimport { UserCardMedia } from \"../../styled/Index\";\nimport backgroundImageUser from \"../../assets/img/userBanner.jpg\"; // MATERIAL UI\n\nimport { Grid, Card, CardContent, Button, FormControlLabel, Switch, List, ListItem, ListItemText } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport config from \"../../assets/lib/axiosConfig\";\n\nvar UserInfos =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserInfos, _Component);\n\n  function UserInfos(props) {\n    var _this;\n\n    _classCallCheck(this, UserInfos);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserInfos).call(this, props));\n    _this.state = {\n      user: {}\n    };\n    return _this;\n  }\n\n  _createClass(UserInfos, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios(config({}, \"/customers/\".concat(this.props.user.id), \"get\")).then(function (res) {\n        _this2.setState({\n          user: res.data\n        });\n      });\n    }\n  }, {\n    key: \"handleSubscribe\",\n    value: function handleSubscribe() {\n      var _this3 = this;\n\n      axios(config({}, \"/customers/subscription/\".concat(this.props.user.id), \"get\")).then(function (res) {\n        _this3.setState({\n          user: res.data\n        });\n      });\n    }\n  }, {\n    key: \"modifAccount\",\n    value: function modifAccount(id) {\n      this.props.history.push(\"/compte/modifier/\".concat(id));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var user = this.state.user;\n      return React.createElement(Grid, {\n        container: true,\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(UserCardMedia, {\n        image: backgroundImageUser,\n        title: \"Compte utilisateur\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        divider: true,\n        dense: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        primary: \"Nom\",\n        secondary: user.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      })), React.createElement(ListItem, {\n        divider: true,\n        dense: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        primary: \"T\\xE9l\\xE9phone\",\n        secondary: user.phone,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), React.createElement(ListItem, {\n        divider: true,\n        dense: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        primary: \"Email\",\n        secondary: user.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      })), user.subscription !== undefined && React.createElement(ListItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(FormControlLabel, {\n        control: React.createElement(Switch, {\n          checked: user.subscription,\n          onChange: function onChange() {\n            return _this4.handleSubscribe();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }),\n        label: \"Abonnement aux alertes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }))), React.createElement(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        size: \"large\",\n        color: \"secondary\" // onClick={id => this.modifAccount(id)}\n        ,\n        href: \"/moncompte/modifier\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Modifier\")))));\n    }\n  }]);\n\n  return UserInfos;\n}(Component);\n\nexport default UserInfos;","map":{"version":3,"sources":["/home/findev/Documents/lyon-0218-js-zappo/front/src/components/UserComponents/UserInfos.js"],"names":["React","Component","UserCardMedia","backgroundImageUser","Grid","Card","CardContent","Button","FormControlLabel","Switch","List","ListItem","ListItemText","axios","config","UserInfos","props","state","user","id","then","res","setState","data","history","push","name","phone","email","subscription","undefined","handleSubscribe"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\n// COMPOSANTS ZAPPO\nimport { UserCardMedia } from \"../../styled/Index\";\nimport backgroundImageUser from \"../../assets/img/userBanner.jpg\";\n// MATERIAL UI\nimport {\n  Grid,\n  Card,\n  CardContent,\n  Button,\n  FormControlLabel,\n  Switch,\n  List,\n  ListItem,\n  ListItemText\n} from \"@material-ui/core\";\nimport axios from \"axios\";\nimport config from \"../../assets/lib/axiosConfig\";\n\nclass UserInfos extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: {}\n    };\n  }\n\n  componentDidMount() {\n    axios(config({}, `/customers/${this.props.user.id}`, \"get\")).then(res => {\n      this.setState({\n        user: res.data\n      });\n    });\n  }\n\n  handleSubscribe() {\n    axios(\n      config({}, `/customers/subscription/${this.props.user.id}`, \"get\")\n    ).then(res => {\n      this.setState({\n        user: res.data\n      });\n    });\n  }\n  modifAccount(id) {\n    this.props.history.push(`/compte/modifier/${id}`);\n  }\n\n  render() {\n    const { user } = this.state;\n\n    return (\n      <Grid container justify=\"center\">\n        <Grid item xs={12}>\n          <Card>\n            <UserCardMedia\n              image={backgroundImageUser}\n              title=\"Compte utilisateur\"\n            />\n            <CardContent>\n              <List>\n                <ListItem divider dense>\n                  <ListItemText primary=\"Nom\" secondary={user.name} />\n                </ListItem>\n                <ListItem divider dense>\n                  <ListItemText primary=\"Téléphone\" secondary={user.phone} />\n                </ListItem>\n                <ListItem divider dense>\n                  <ListItemText primary=\"Email\" secondary={user.email} />\n                </ListItem>\n                {user.subscription !== undefined && (\n                  <ListItem>\n                    <FormControlLabel\n                      control={\n                        <Switch\n                          checked={user.subscription}\n                          onChange={() => this.handleSubscribe()}\n                        />\n                      }\n                      label=\"Abonnement aux alertes\"\n                    />\n                  </ListItem>\n                )}\n              </List>\n              <Button\n                fullWidth\n                variant=\"contained\"\n                size=\"large\"\n                color=\"secondary\"\n                // onClick={id => this.modifAccount(id)}\n                href={`/moncompte/modifier`}\n              >\n                Modifier\n              </Button>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default UserInfos;\n"]},"metadata":{},"sourceType":"module"}