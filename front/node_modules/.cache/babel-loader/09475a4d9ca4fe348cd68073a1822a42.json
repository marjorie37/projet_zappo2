{"ast":null,"code":"import _defineProperty from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/findev/Documents/lyon-0218-js-zappo/front/src/components/UserComponents/UserModifyAccount.js\";\nimport React, { Component } from \"react\"; //import PropTypes from \"prop-types\";\n// MATERIAL UI\n\nimport { Grid, withStyles, Input, FormControl, Typography, Button } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport config from \"../../assets/lib/axiosConfig\";\nimport { withRouter } from \"react-router\";\nimport AlertDialogSlide from \"./AlertDeleteUser\";\nimport validator from \"validator\";\n\nvar styles = function styles(theme) {\n  return {\n    container: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    formControl: {\n      margin: theme.spacing.unit,\n      display: \"flex\"\n    }\n  };\n};\n\nvar UserModifyAccount =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserModifyAccount, _Component);\n\n  function UserModifyAccount(props) {\n    var _this;\n\n    _classCallCheck(this, UserModifyAccount);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserModifyAccount).call(this, props));\n    _this.state = {\n      inputName: \"\",\n      inputPhone: \"\",\n      inputEmail: \"\",\n      user: {\n        name: \"\"\n      }\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UserModifyAccount, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.id, event.target.value));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios(config({}, \"/moncompte/modifier/\".concat(this.props.user.id), \"get\")).then(function (res) {\n        _this2.inputName.value = res.data.name;\n        _this2.inputEmail.value = res.data.email;\n        _this2.inputPhone.value = res.data.phone;\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var _this3 = this;\n\n      e.preventDefault();\n      axios(config({\n        name: this.inputName.value,\n        email: this.inputEmail.value,\n        phone: this.inputPhone.value\n      }, \"/moncompte/modifier/\".concat(this.props.user.id), \"post\")).then(function (res) {\n        _this3.props.history.push(\"/compte/\".concat(_this3.props.user.id));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var classes = this.props.classes;\n      var errorName = \"\";\n      var errorEmail = \"\";\n      var errorPhone = \"\";\n      var condition = true; // error nom\n\n      if (this.state.inputName.length >= 1) {\n        errorName = this.state.inputName.length < 3 ? \"votre nom est trop court\" : \"\";\n      } // error email\n\n\n      if (this.state.inputEmail.length >= 1) {\n        errorEmail = validator.isEmail(this.state.inputEmail) ? \"\" : \"Votre email n'est pas valide\";\n      } // error tel\n\n\n      if (this.state.inputPhone.length >= 1) {\n        errorPhone = validator.isMobilePhone(this.state.inputPhone, \"fr-FR\") ? \"\" : \"Votre numéro est incorrect\";\n      }\n\n      if (!errorPhone.length && !errorEmail.length && !errorName.length) {\n        condition = false;\n      }\n\n      return React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        style: {\n          background: \"white\",\n          padding: \"4%\"\n        },\n        item: true,\n        xs: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subheading\",\n        color: \"primary\",\n        align: \"center\",\n        style: {\n          marginTop: \"1.6rem\",\n          marginBottom: \"0.7rem\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Modification de compte Zappo\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        className: classes.formControl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Input, {\n        inputRef: function inputRef(input) {\n          return _this4.inputName = input;\n        },\n        id: \"inputName\",\n        type: \"text\",\n        onChange: this.handleChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), errorName !== \"\" ? React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, errorName) : null), React.createElement(FormControl, {\n        error: errorEmail.length,\n        className: classes.formControl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(Input, {\n        inputRef: function inputRef(input) {\n          return _this4.inputEmail = input;\n        },\n        id: \"inputEmail\",\n        type: \"email\",\n        onChange: this.handleChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }), errorEmail !== \"\" ? React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, errorEmail) : null), React.createElement(FormControl, {\n        className: classes.formControl,\n        error: errorPhone.length,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Input, {\n        inputRef: function inputRef(input) {\n          return _this4.inputPhone = input;\n        },\n        required: true,\n        id: \"inputPhone\",\n        onChange: this.handleChange,\n        type: \"tel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), errorPhone !== \"\" ? React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, errorPhone) : null), React.createElement(Button, {\n        variant: \"contained\",\n        fullWidth: true,\n        color: \"secondary\",\n        style: {\n          marginBottom: \"4rem\",\n          marginTop: \"2em\"\n        },\n        className: classes.button,\n        type: \"submit\",\n        disabled: condition,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Valider vos modifications\")), React.createElement(Typography, {\n        variant: \"body2\",\n        component: \"a\",\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(AlertDialogSlide, {\n        user: this.props,\n        classes: classes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return UserModifyAccount;\n}(Component); // UserModifyAccount.propTypes = {\n//   classes: PropTypes.object.isRequired\n//};\n\n\nexport default withRouter(withStyles(styles, {\n  withTheme: true\n})(UserModifyAccount));","map":{"version":3,"sources":["/home/findev/Documents/lyon-0218-js-zappo/front/src/components/UserComponents/UserModifyAccount.js"],"names":["React","Component","Grid","withStyles","Input","FormControl","Typography","Button","axios","config","withRouter","AlertDialogSlide","validator","styles","theme","container","display","flexWrap","formControl","margin","spacing","unit","UserModifyAccount","props","state","inputName","inputPhone","inputEmail","user","name","handleChange","bind","handleSubmit","event","setState","target","id","value","then","res","data","email","phone","e","preventDefault","history","push","classes","errorName","errorEmail","errorPhone","condition","length","isEmail","isMobilePhone","width","background","padding","marginTop","marginBottom","input","color","button","withTheme"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n//import PropTypes from \"prop-types\";\n// MATERIAL UI\nimport {\n  Grid,\n  withStyles,\n  Input,\n  FormControl,\n  Typography,\n  Button\n} from \"@material-ui/core\";\nimport axios from \"axios\";\nimport config from \"../../assets/lib/axiosConfig\";\nimport { withRouter } from \"react-router\";\nimport AlertDialogSlide from \"./AlertDeleteUser\";\nimport validator from \"validator\";\n\nconst styles = theme => ({\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  formControl: {\n    margin: theme.spacing.unit,\n    display: \"flex\"\n  }\n});\n\nclass UserModifyAccount extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputName: \"\",\n      inputPhone: \"\",\n      inputEmail: \"\",\n      user: {\n        name: \"\"\n      }\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.id]: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    axios(config({}, `/moncompte/modifier/${this.props.user.id}`, \"get\")).then(\n      res => {\n        this.inputName.value = res.data.name;\n        this.inputEmail.value = res.data.email;\n        this.inputPhone.value = res.data.phone;\n      }\n    );\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n    axios(\n      config(\n        {\n          name: this.inputName.value,\n          email: this.inputEmail.value,\n          phone: this.inputPhone.value\n        },\n        `/moncompte/modifier/${this.props.user.id}`,\n        \"post\"\n      )\n    ).then(res => {\n      this.props.history.push(`/compte/${this.props.user.id}`);\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n    let errorName = \"\";\n    let errorEmail = \"\";\n    let errorPhone = \"\";\n    let condition = true;\n\n    // error nom\n    if (this.state.inputName.length >= 1) {\n      errorName =\n        this.state.inputName.length < 3 ? \"votre nom est trop court\" : \"\";\n    }\n\n    // error email\n    if (this.state.inputEmail.length >= 1) {\n      errorEmail = validator.isEmail(this.state.inputEmail)\n        ? \"\"\n        : \"Votre email n'est pas valide\";\n    }\n\n    // error tel\n\n    if (this.state.inputPhone.length >= 1) {\n      errorPhone = validator.isMobilePhone(this.state.inputPhone, \"fr-FR\")\n        ? \"\"\n        : \"Votre numéro est incorrect\";\n    }\n\n    if (!errorPhone.length && !errorEmail.length && !errorName.length) {\n      condition = false;\n    }\n\n    return (\n      <div style={{ width: \"100%\" }}>\n        <Grid container justify=\"center\">\n          <Grid style={{ background: \"white\", padding: \"4%\" }} item xs={10}>\n            <Typography\n              variant=\"subheading\"\n              color=\"primary\"\n              align=\"center\"\n              style={{ marginTop: \"1.6rem\", marginBottom: \"0.7rem\" }}\n            >\n              Modification de compte Zappo\n            </Typography>\n            <form onSubmit={this.handleSubmit}>\n              <FormControl className={classes.formControl}>\n                <Input\n                  inputRef={input => (this.inputName = input)}\n                  id=\"inputName\"\n                  type=\"text\"\n                  onChange={this.handleChange}\n                  required\n                />\n                {errorName !== \"\" ? (\n                  <div style={{ color: \"red\" }}>{errorName}</div>\n                ) : null}\n              </FormControl>\n              <FormControl\n                error={errorEmail.length}\n                className={classes.formControl}\n              >\n                <Input\n                  inputRef={input => (this.inputEmail = input)}\n                  id=\"inputEmail\"\n                  type=\"email\"\n                  onChange={this.handleChange}\n                  required\n                />\n                {errorEmail !== \"\" ? (\n                  <div style={{ color: \"red\" }}>{errorEmail}</div>\n                ) : null}\n              </FormControl>\n              <FormControl\n                className={classes.formControl}\n                error={errorPhone.length}\n              >\n                <Input\n                  inputRef={input => (this.inputPhone = input)}\n                  required\n                  id=\"inputPhone\"\n                  onChange={this.handleChange}\n                  type=\"tel\"\n                />\n                {errorPhone !== \"\" ? (\n                  <div style={{ color: \"red\" }}>{errorPhone}</div>\n                ) : null}\n              </FormControl>\n\n              <Button\n                variant=\"contained\"\n                fullWidth={true}\n                color=\"secondary\"\n                style={{ marginBottom: \"4rem\", marginTop: \"2em\" }}\n                className={classes.button}\n                type=\"submit\"\n                disabled={condition}\n              >\n                Valider vos modifications\n              </Button>\n            </form>\n\n            <Typography variant=\"body2\" component=\"a\" align=\"center\">\n              <AlertDialogSlide user={this.props} classes={classes} />\n            </Typography>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n}\n\n// UserModifyAccount.propTypes = {\n//   classes: PropTypes.object.isRequired\n//};\n\nexport default withRouter(\n  withStyles(styles, { withTheme: true })(UserModifyAccount)\n);\n"]},"metadata":{},"sourceType":"module"}