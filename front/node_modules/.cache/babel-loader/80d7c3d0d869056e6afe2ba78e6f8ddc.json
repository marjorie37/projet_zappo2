{"ast":null,"code":"import _defineProperty from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/findev/Documents/lyon-0218-js-zappo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/findev/Documents/lyon-0218-js-zappo/front/src/components/UserComponents/UserModifyPassRecover.js\";\nimport React, { Component } from \"react\"; //import PropTypes from \"prop-types\";\n// MATERIAL UI\n\nimport { Grid, withStyles, Input, InputLabel, FormControl, Typography, InputAdornment, IconButton, Button, Paper } from \"@material-ui/core\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport config from \"../../assets/lib/axiosConfig\";\nimport axios from \"axios\";\nimport { withRouter } from \"react-router\";\n\nvar styles = function styles(theme) {\n  return {\n    container: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    formControl: {\n      margin: theme.spacing.unit,\n      display: \"flex\"\n    }\n  };\n};\n\nvar UserModifyPassRecover =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserModifyPassRecover, _Component);\n\n  function UserModifyPassRecover(props) {\n    var _this;\n\n    _classCallCheck(this, UserModifyPassRecover);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserModifyPassRecover).call(this, props));\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      axios(config(_this.state, \"/modify-motdepasseperdu\", \"POST\")).then(function (res) {\n        var _res$data = res.data,\n            success = _res$data.success,\n            token = _res$data.token,\n            error = _res$data.error;\n\n        if (error) {\n          _this.setState({\n            message: error\n          });\n        }\n\n        if (success) {\n          localStorage.setItem(\"ZappoToken\", token);\n\n          _this.props.history.push(\"/\");\n        }\n      });\n    };\n\n    _this.state = {\n      password: \"\",\n      inputConfirmPassword: \"\",\n      token: _this.props.match.params.token\n    };\n    return _this;\n  }\n\n  _createClass(UserModifyPassRecover, [{\n    key: \"handleClickShowPassword\",\n    value: function handleClickShowPassword(e) {\n      this.setState(function (state) {\n        return {\n          showPassword: !state.showPassword\n        };\n      });\n    }\n  }, {\n    key: \"handleClickShowPasswordBis\",\n    value: function handleClickShowPasswordBis(e) {\n      this.setState(function (state) {\n        return {\n          showPasswordBis: !state.showPasswordBis\n        };\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState(_defineProperty({}, e.target.id, e.target.value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      var errorMdp = \"\";\n      var conferrorMdp = \"\";\n      var regex1 = new RegExp(\"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^ws]).{8,}$\");\n\n      if (this.state.password.length >= 1) {\n        errorMdp = regex1.test(this.state.password) ? \"\" : \"votre mot de passe doit contenir 8 caractÃ¨res dont un chiffre et une majuscule\";\n      }\n\n      if (this.state.password.length >= 1) {\n        conferrorMdp = this.state.inputConfirmPassword === this.state.password ? \"\" : \"Veillez confirmer votre mot de passe\";\n      }\n\n      var valid = true;\n\n      if (!conferrorMdp.length && !errorMdp.length) {\n        valid = false;\n      }\n\n      return React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        style: {\n          padding: \"1.6rem 1rem 2rem 1rem\",\n          marginTop: \"10rem\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subheading\",\n        color: \"primary\",\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Entrez le nouveau mot de passe\"), React.createElement(\"form\", {\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        onSubmit: function onSubmit(event) {\n          return _this2.handleSubmit(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        style: {\n          marginBottom: \"2rem\"\n        },\n        className: classes.formControl,\n        error: errorMdp.length,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Mot de passe\"), React.createElement(Input, {\n        id: \"password\",\n        name: \"password\",\n        type: this.state.showPassword ? \"text\" : \"password\",\n        endAdornment: React.createElement(InputAdornment, {\n          position: \"end\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(IconButton, {\n          \"aria-label\": \"Toggle password visibility\",\n          onClick: function onClick(e) {\n            return _this2.handleClickShowPassword(e);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, this.state.showPassword ? React.createElement(VisibilityOff, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }) : React.createElement(Visibility, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), errorMdp !== \"\" ? React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, errorMdp) : null), React.createElement(FormControl, {\n        style: {\n          marginBottom: \"2rem\"\n        },\n        className: classes.formControl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"inputConfirmPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Confirmez votre mot de passe\"), React.createElement(Input, {\n        id: \"inputConfirmPassword\",\n        name: \"password\",\n        type: this.state.showPasswordBis ? \"text\" : \"password\",\n        endAdornment: React.createElement(InputAdornment, {\n          position: \"end\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(IconButton, {\n          \"aria-label\": \"Toggle password visibility\",\n          onClick: function onClick(e) {\n            return _this2.handleClickShowPasswordBis(e);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, this.state.showPassword ? React.createElement(VisibilityOff, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }) : React.createElement(Visibility, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), conferrorMdp !== \"\" ? React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, conferrorMdp) : null), React.createElement(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        fullWidth: true,\n        color: \"secondary\",\n        className: classes.button,\n        disabled: valid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Valider\"))))));\n    }\n  }]);\n\n  return UserModifyPassRecover;\n}(Component);\n\nexport default withStyles(styles)(withRouter(UserModifyPassRecover));","map":{"version":3,"sources":["/home/findev/Documents/lyon-0218-js-zappo/front/src/components/UserComponents/UserModifyPassRecover.js"],"names":["React","Component","Grid","withStyles","Input","InputLabel","FormControl","Typography","InputAdornment","IconButton","Button","Paper","Visibility","VisibilityOff","config","axios","withRouter","styles","theme","container","display","flexWrap","formControl","margin","spacing","unit","UserModifyPassRecover","props","handleSubmit","event","preventDefault","state","then","res","data","success","token","error","setState","message","localStorage","setItem","history","push","password","inputConfirmPassword","match","params","e","showPassword","showPasswordBis","target","id","value","classes","errorMdp","conferrorMdp","regex1","RegExp","length","test","valid","width","padding","marginTop","handleChange","marginBottom","handleClickShowPassword","color","handleClickShowPasswordBis","button"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n//import PropTypes from \"prop-types\";\n// MATERIAL UI\nimport {\n  Grid,\n  withStyles,\n  Input,\n  InputLabel,\n  FormControl,\n  Typography,\n  InputAdornment,\n  IconButton,\n  Button,\n  Paper\n} from \"@material-ui/core\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport config from \"../../assets/lib/axiosConfig\";\nimport axios from \"axios\";\nimport { withRouter } from \"react-router\";\n\nconst styles = theme => ({\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  formControl: {\n    margin: theme.spacing.unit,\n    display: \"flex\"\n  }\n});\n\nclass UserModifyPassRecover extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      password: \"\",\n      inputConfirmPassword: \"\",\n      token: this.props.match.params.token\n    };\n  }\n\n  handleClickShowPassword(e) {\n    this.setState(state => ({ showPassword: !state.showPassword }));\n  }\n\n  handleClickShowPasswordBis(e) {\n    this.setState(state => ({ showPasswordBis: !state.showPasswordBis }));\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    axios(config(this.state, \"/modify-motdepasseperdu\", \"POST\")).then(res => {\n      const { success, token, error } = res.data;\n      if (error) {\n        this.setState({ message: error });\n      }\n      if (success) {\n        localStorage.setItem(\"ZappoToken\", token);\n        this.props.history.push(\"/\");\n      }\n    });\n  };\n\n  handleChange(e) {\n    this.setState({\n      [e.target.id]: e.target.value\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n    let errorMdp = \"\";\n    let conferrorMdp = \"\";\n    const regex1 = new RegExp(\n      \"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^ws]).{8,}$\"\n    );\n\n    if (this.state.password.length >= 1) {\n      errorMdp = regex1.test(this.state.password)\n        ? \"\"\n        : \"votre mot de passe doit contenir 8 caractÃ¨res dont un chiffre et une majuscule\";\n    }\n\n    if (this.state.password.length >= 1) {\n      conferrorMdp =\n        this.state.inputConfirmPassword === this.state.password\n          ? \"\"\n          : \"Veillez confirmer votre mot de passe\";\n    }\n\n    let valid = true;\n\n    if (!conferrorMdp.length && !errorMdp.length) {\n      valid = false;\n    }\n\n    return (\n      <div style={{ width: \"100%\" }}>\n        <Grid container justify=\"center\">\n          <Grid item xs={10}>\n            <Paper\n              style={{ padding: \"1.6rem 1rem 2rem 1rem\", marginTop: \"10rem\" }}\n            >\n              <Typography variant=\"subheading\" color=\"primary\" align=\"center\">\n                Entrez le nouveau mot de passe\n              </Typography>\n              <form\n                onChange={e => this.handleChange(e)}\n                onSubmit={event => this.handleSubmit(event)}\n              >\n                <FormControl\n                  style={{ marginBottom: \"2rem\" }}\n                  className={classes.formControl}\n                  error={errorMdp.length}\n                >\n                  <InputLabel htmlFor=\"password\">Mot de passe</InputLabel>\n                  <Input\n                    id=\"password\"\n                    name=\"password\"\n                    type={this.state.showPassword ? \"text\" : \"password\"}\n                    endAdornment={\n                      <InputAdornment position=\"end\">\n                        <IconButton\n                          aria-label=\"Toggle password visibility\"\n                          onClick={e => this.handleClickShowPassword(e)}\n                        >\n                          {this.state.showPassword ? (\n                            <VisibilityOff />\n                          ) : (\n                            <Visibility />\n                          )}\n                        </IconButton>\n                      </InputAdornment>\n                    }\n                  />\n                  {errorMdp !== \"\" ? (\n                    <div style={{ color: \"red\" }}>{errorMdp}</div>\n                  ) : null}\n                </FormControl>\n                <FormControl\n                  style={{ marginBottom: \"2rem\" }}\n                  className={classes.formControl}\n                >\n                  <InputLabel htmlFor=\"inputConfirmPassword\">\n                    Confirmez votre mot de passe\n                  </InputLabel>\n                  <Input\n                    id=\"inputConfirmPassword\"\n                    name=\"password\"\n                    type={this.state.showPasswordBis ? \"text\" : \"password\"}\n                    endAdornment={\n                      <InputAdornment position=\"end\">\n                        <IconButton\n                          aria-label=\"Toggle password visibility\"\n                          onClick={e => this.handleClickShowPasswordBis(e)}\n                        >\n                          {this.state.showPassword ? (\n                            <VisibilityOff />\n                          ) : (\n                            <Visibility />\n                          )}\n                        </IconButton>\n                      </InputAdornment>\n                    }\n                  />\n                  {conferrorMdp !== \"\" ? (\n                    <div style={{ color: \"red\" }}>{conferrorMdp}</div>\n                  ) : null}\n                </FormControl>\n                <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  fullWidth={true}\n                  color=\"secondary\"\n                  className={classes.button}\n                  disabled={valid}\n                >\n                  Valider\n                </Button>\n              </form>\n            </Paper>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(withRouter(UserModifyPassRecover));\n"]},"metadata":{},"sourceType":"module"}